function setLanguage(lang) {
  localStorage.setItem('language', lang); // guarda idioma
  loadLanguage(lang);
}

function loadLanguage(lang) {
  fetch(`lang/${lang}.json`)
    .then(response => response.json())
    .then(data => {
      document.querySelectorAll("[data-i18n]").forEach(el => {
        const key = el.getAttribute("data-i18n");
        if (data[key]) {
          el.innerText = data[key];
        }
      });
    });
}

// Al cargar la página, carga idioma guardado o español por defecto
document.addEventListener("DOMContentLoaded", () => {
  const lang = localStorage.getItem('language') || 'es';
  loadLanguage(lang);
});
